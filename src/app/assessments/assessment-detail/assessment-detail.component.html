<div class="main-board">
<!--
  <mat-grid-list *ngIf="currentAssessment" class="main-board__current-object-details" cols="7" rowHeight="36px">
    <mat-grid-tile class="header">Title</mat-grid-tile>
    <mat-grid-tile class="header">Subject</mat-grid-tile>
    <mat-grid-tile class="header">Grade</mat-grid-tile>
    <mat-grid-tile class="header">Country</mat-grid-tile>
    <mat-grid-tile class="header">Language</mat-grid-tile>
    <mat-grid-tile class="header">Private</mat-grid-tile>
    <mat-grid-tile [rowspan]="2" class="delete-button">
      <button mat-stroked-button color="primary" (click)="deleteCurrentAssessment()">
        <mat-icon>delete_outline</mat-icon>
      </button>
    </mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.title }}</mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.subject }}</mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.grade }}</mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.country }}</mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.language }}</mat-grid-tile>
    <mat-grid-tile class="detail">{{ currentAssessment.private }}</mat-grid-tile>
  </mat-grid-list>
 -->

  <div class="main-board__top-container">
    <h1 *ngIf="currentAssessment">{{ currentAssessment.title }} (Grade {{ currentAssessment.grade }}, {{
      currentAssessment.subject }} - {{ currentAssessment.language_name }}) - {{ topicsDataSource.data.length }} topics
      <span *ngIf="selectedTopics.length">({{ selectedTopics.length }} selected)</span></h1>
    <button mat-stroked-button [disabled]="!selectedTopics.length" color="accent" (click)="deleteSelection()">
      <mat-icon>delete_outline</mat-icon><span>Delete topic(s)</span>
    </button>
    <button mat-stroked-button color="accent" (click)="openCreateTopicDialog()">
      <mat-icon>add_circle_outline</mat-icon><span>Create a topic</span>
    </button>
    <button mat-stroked-button color="accent" (click)="downloadData()">
      <mat-icon>get_app</mat-icon><span>Download</span>
    </button>
  </div>

  <app-table [tableData]="topicsDataSource" [displayedColumns]="displayedColumns"
    [searchableColumns]="searchableColumns" [isSelectable]="true" (selectionChangedEvent)="onSelectionChange($event)"
    (openDetailsEvent)="onOpenDetails($event)"></app-table>

  <ng-template #createTopicDialog>
    <h2 mat-dialog-title>Create a new topic</h2>
    <mat-dialog-content>
      <form [formGroup]="createNewTopicForm" (ngSubmit)="submitCreateNewTopic()" class="form-primary">
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input matInput type="text" formControlName="name">
        </mat-form-field>
        <button mat-button color="accent" type="submit" mat-dialog-close>Add</button>
      </form>
    </mat-dialog-content>
  </ng-template>
</div>
