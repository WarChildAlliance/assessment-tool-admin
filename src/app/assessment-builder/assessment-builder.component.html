<button (click)="getAll()">get export</button>
<!-- <mat-accordion>
    <mat-expansion-panel *ngFor="let assessment of currentAssessments" (opened)="getCurrentTopics(assessment.id)">
        <mat-expansion-panel-header>
            <mat-panel-title>
                {{ assessment.title }}
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-panel-description>
            <div>

            <div class="title">
                <div>
                    <span>Details</span>
                    <button mat-button mat-stroked-button color="accent" (click)="edit('assessment')">Edit</button>
                    <button mat-button mat-stroked-button color="accent">Clone</button>
                    <button mat-button mat-stroked-button color="warn" (click)="deleteAssessment(assessment.id)">Delete</button>
                </div>
                <app-create-assessment *ngIf="editAssessment" [assessment]="assessment"></app-create-assessment>
                <table *ngIf="!editAssessment">
                    <tr class="color-header">
                        <th >Grade</th>
                        <th>Subject</th>
                        <th>Language</th>
                        <th>Country</th>
                        <th>Private</th>
                    </tr>
                    <tr>
                        <td>{{assessment.grade}}</td>
                        <td>{{assessment.subject}}</td>
                        <td>{{assessment.language_name}}</td>
                        <td>{{assessment.country_name}}</td>
                        <td>{{assessment.private}}</td>
                    </tr>
                </table>
            </div>

            <div>
                <div class="title">
                    <span >Topics</span>
                    <button mat-button mat-stroked-button color="accent">Apply settings to all topics</button>
                    <table>
                        <tr class="color-header">
                            <th>Show Feedback?</th>
                            <th>Allow Skip?</th>
                            <th>Evaluated</th>
                            <th>Praise</th>
                            <th>Max wrong answers</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox"></td>
                            <td><input type="checkbox"></td>
                            <td><input type="checkbox"></td>
                            <td><input type="number"></td>
                            <td><input type="number"></td>
                        </tr>
                    </table>

                </div>
                <mat-accordion>
                    <mat-expansion-panel *ngFor="let topic of currentTopics" (opened)="getCurrentQuestions(assessment.id, topic.id)">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                {{ topic.name }}
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-panel-description>
                            <div>
                                <div>
                                <div class="title">
                                    <span >Details</span>
                                    <button mat-button mat-stroked-button color="accent" (click)="edit('topic')">Edit</button>
                                    <button mat-button mat-stroked-button color="accent">Clone</button>
                                    <button mat-button mat-stroked-button color="delete" (click)="deleteTopic(assessment.id, topic.id)">Delete</button>
                                    <app-create-topic *ngIf="editTopic" [assessmentId]="assessment.id" [topic]="currentTopic"></app-create-topic>
                                <table *ngIf="currentTopic && !editTopic">
                                    <tr class="color-header">
                                        <th>Description</th>
                                        <th>Attachments</th>
                                        <th>Show Feedback?</th>
                                        <th>Allow Skip?</th>
                                        <th>Evaluated</th>
                                        <th>Praise</th>
                                        <th>Max wrong answers</th>
                                    </tr>
                                    <tr>
                                        <td>{{currentTopic.description}}</td>
                                        <td>{{currentTopic.attachments}}</td>
                                        <td>{{currentTopic.show_feedback}}</td>
                                        <td>{{currentTopic.allow_skip}}</td>
                                        <td>{{currentTopic.evaluated}}</td>
                                        <td>{{currentTopic.praise}}</td>
                                        <td>{{currentTopic.max_wrong_answers}}</td>
                                    </tr>
                                </table>
                                </div>
                            </div>
                                <mat-accordion>
                                    <mat-expansion-panel *ngFor="let quest of currentQuestions" (opened)="getQuestionDetails(assessment.id, topic.id, quest.id)">
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                {{ quest.title }}
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <mat-panel-description>
                                            <app-question-select *ngIf="quest.question_type === 'Select' && currentQuestion && !editSelect" [question]="currentQuestion" [evaluated]="false" [evaluated]="false"></app-question-select>
                                            <app-question-input *ngIf="quest.question_type === 'Input' && currentQuestion && !editInput"[question]="currentQuestion" [evaluated]="false" [evaluated]="false"></app-question-input>
                                            <app-question-sort *ngIf="quest.question_type === 'Sort' && currentQuestion && !editSort" [question]="currentQuestion" [evaluated]="false" [evaluated]="false"></app-question-sort>
                                            <app-question-numberline *ngIf="quest.question_type === 'Number line' && currentQuestion && !editNumberLine" [question]="currentQuestion" [answer]="false" [evaluated]="false"></app-question-numberline>

                                            <app-select *ngIf="quest.question_type === 'Select' && currentQuestion && editSelect"  [assessmentId]="assessment.id" [topicId]="topic.id" [question]="currentQuestion" ></app-select>
                                            <app-input *ngIf="quest.question_type === 'Input' && currentQuestion && editInput" [assessmentId]="assessment.id" [topicId]="topic.id" [question]="currentQuestion" ></app-input>
                                            <app-sort *ngIf="quest.question_type === 'Sort' && currentQuestion && editSort" [assessmentId]="assessment.id" [topicId]="topic.id" [question]="currentQuestion" ></app-sort>
                                            <app-number-line *ngIf="quest.question_type === 'Number line' && currentQuestion && editNumberLine" [assessmentId]="assessment.id" [topicId]="topic.id" [question]="currentQuestion"></app-number-line>
                                        </mat-panel-description>
                                        <button mat-button mat-stroked-button color="accent" (click)="edit(quest.question_type )">Edit</button>
                                        <button mat-button mat-stroked-button color="accent">Clone</button>
                                        <button mat-button mat-stroked-button color="warn" (click)="deleteQuestion(assessment.id, topic.id, quest.id)">Delete</button>
                                    </mat-expansion-panel>
                                    
                                    <mat-expansion-panel>
                                        <mat-expansion-panel-header class="add-panel">
                                            <mat-panel-title>
                                                <mat-icon>add</mat-icon>
                                                Create New Question 
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <mat-panel-description>
                                            <app-create-question [assessmentId]="assessment.id" [topicId]="topic.id" [questionsCount]="topic.questions_count"></app-create-question>
                                        </mat-panel-description>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>

                        </mat-panel-description>
                    </mat-expansion-panel>
                
                    <mat-expansion-panel>
                        <mat-expansion-panel-header class="add-panel">
                            <mat-panel-title>
                                <mat-icon>add</mat-icon>
                                Create New Topic
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-panel-description>
                            <app-create-topic [assessmentId]="assessment.id" [topicAmount]="getCount(assessment)"></app-create-topic>
                        </mat-panel-description>
                    </mat-expansion-panel>
                </mat-accordion>

            </div>
            
        </div>  
        </mat-panel-description>
    </mat-expansion-panel>

    <mat-expansion-panel>
        <mat-expansion-panel-header class="add-panel">
            <mat-panel-title>
                <mat-icon>add</mat-icon>
                Create New Assessment
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-panel-description>
            <app-create-assessment></app-create-assessment>
        </mat-panel-description>
    </mat-expansion-panel>
</mat-accordion> -->


