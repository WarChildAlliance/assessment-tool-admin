<h2>Create a topic</h2>
<form class="form-primary" [formGroup]="createNewTopicForm" (ngSubmit)="onSave()">
    <div class="form-primary__flex-container">
        <mat-form-field appearance="outline" color="accent">
            <mat-label>Title</mat-label>
            <input matInput type="text" required formControlName="name">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>Description</mat-label>
            <input matInput type="text" required formControlName="description">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>When to show feedbacks ?</mat-label>
            <mat-select formControlName="show_feedback">
                <mat-option *ngFor="let feedback of feedbacks" [value]="feedback.id">{{ feedback.name }}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>Praise</mat-label>
            <input matInput type="number" formControlName="praise">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>Max wrong answers</mat-label>
            <input matInput type="number" formControlName="max_wrong_answers">
        </mat-form-field>
    </div>
    <div class="form-primary__flex-container">
        <mat-checkbox formControlName="evaluated">
            Evaluated
        </mat-checkbox>
        <mat-checkbox formControlName="allow_skip">
            Allow skip
        </mat-checkbox>
        <div>
            <h3>Icon *</h3>
            <button type="button" class="file_input" mat-flat-button color="primary" (click)="iconFileInput.click()">
                {{icon ? 'Change file' : 'Choose a File'}}
            </button>
            <input hidden (change)="handleFileInput($event)" #iconFileInput type="file">
            <p>{{ icon ? icon.name : 'No file chosen' }}</p>
        </div>
    </div>
    <mat-divider></mat-divider>
    <div class="buttons">
        <button mat-button class="submit" color="accent" type="submit" 
        mat-dialog-close [disabled]="createNewTopicForm.invalid || !createNewTopicForm.dirty">{{ topic ? 'Save' : 'Submit' }}</button>
        <button mat-button class="cancel" color="secondary" mat-dialog-close>Cancel</button>
    </div>
</form>
