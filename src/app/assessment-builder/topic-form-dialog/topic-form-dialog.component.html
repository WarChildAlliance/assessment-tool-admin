<h2>{{ edit ? ("assessmentBuilder.topicFormDialog.editTopic" | translate) : ("assessmentBuilder.topicFormDialog.createTopic" | translate) }}</h2>
<form class="form-primary" [formGroup]="createNewTopicForm">
    <div class="form-primary__flex-container">
        <mat-form-field appearance="outline" color="accent">
            <mat-label>{{ "general.title" | translate }}</mat-label>
            <input matInput type="text" required formControlName="name">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>{{ "assessmentBuilder.description" | translate }}</mat-label>
            <input matInput type="text" required formControlName="description">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>{{ "assessmentBuilder.topicFormDialog.whenToShowFeedbacks" | translate }}</mat-label>
            <mat-select formControlName="show_feedback">
                <mat-option *ngFor="let feedback of feedbacks" [value]="feedback.id">{{ feedback.name }}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>{{ "assessmentBuilder.praise" | translate }}</mat-label>
            <input matInput type="number" formControlName="praise">
        </mat-form-field>
        <mat-form-field appearance="outline" color="accent">
            <mat-label>{{ "assessmentBuilder.maxWrongAnswers" | translate }}</mat-label>
            <input matInput type="number" formControlName="max_wrong_answers">
        </mat-form-field>
    </div>
    <div class="form-primary__flex-container">
        <mat-checkbox formControlName="evaluated">
            {{ "assessmentBuilder.evaluated" | translate }}
        </mat-checkbox>
        <mat-checkbox formControlName="allow_skip">
            {{ "assessmentBuilder.allowSkip" | translate }}
        </mat-checkbox>
        <mat-checkbox formControlName="archived">
            Archived
        </mat-checkbox>
        <div>
            <h3>{{ "assessmentBuilder.icon" |  translate }} *</h3>
            <app-custom-button class="file_input" category="secondary" variant="neutral" (click)="iconFileInput.click()">
                {{icon ? ("assessmentBuilder.topicFormDialog.changeFile" | translate) : ("assessmentBuilder.chooseFile" | translate)}}
            </app-custom-button>
            <input hidden (change)="handleFileInput($event)" #iconFileInput type="file">
            <p>{{ icon ? icon.name : ("assessmentBuilder.noFileChosen" | translate) }}</p>
        </div>
    </div>
    <mat-divider></mat-divider>
    <div class="dialog-buttons buttons-margin">
        <button mat-button class="dialog-buttons__cancel" color="secondary" mat-dialog-close>{{ "general.cancel" | translate }}</button>
        <button mat-flat-button class="dialog-buttons__submit" color="accent" type="submit"
        [mat-dialog-close]="createNewTopicForm.value" (click)="onSave()"
        [disabled]="createNewTopicForm.invalid || !createNewTopicForm.dirty">{{ topic ? ("general.save" | translate) : ("general.create" | translate) }}</button>
    </div>
</form>
